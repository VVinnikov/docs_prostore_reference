---
layout: default
title: Порядок обработки запросов на загрузку данных
nav_order: 2
parent: Связи с другими системами и компонентами
grand_parent: Обзор понятий, компонентов и связей
has_children: false
has_toc: false
---

# Порядок обработки запросов на загрузку данных

Запрос на загрузку данных в [логическую таблицу](../../Основные_понятия/Логическая_таблица/Логическая_таблица.md) 
обрабатывается в следующем порядке:
1.  Внешняя информационная система формирует запрос [INSERT INTO logical_table](../../../Справочная_информация/Запросы_SQLplus/INSERT_INTO_logical_table/INSERT_INTO_logical_table.md), 
    используя JDBC-драйвер DTM.
2.  Запрос поступает в сервис исполнения запросов DTM.
3.  Сервис исполнения запросов анализирует запрос и сохраняет информацию о процессе загрузки данных в 
    [сервисной базе данных](../../Основные_понятия/Сервисная_база_данных/Сервисная_база_данных.md).
4.  Сервис исполнения запросов отправляет в коннектор каждой из целевых 
    [СУБД](../../../Введение/Поддерживаемые_СУБД_хранилища/Поддерживаемые_СУБД_хранилища.md) 
    [хранилища](../../Основные_понятия/Хранилище_данных/Хранилище_данных.md) команду на загрузку данных и 
    отслеживает состояние загрузки с помощью сервиса мониторинга статусов Kafka. Под целевыми подразумеваются 
    СУБД, в которых размещаются данные логической таблицы 
    (см. [CREATE TABLE](../../../Справочная_информация/Запросы_SQLplus/CREATE_TABLE/CREATE_TABLE.md)).
5.  Коннектор загружает данные из топика Kafka, который определен в свойствах внешней таблицы загрузки, 
    указанной в запросе.
6.  По завершении загрузки всех или каждого пакета данных (в зависимости от типа СУБД) сервис исполнения 
    запросов отправляет в целевые СУБД команду на выполнение задач по 
    [версионированию данных](../../../Работа_с_системой/Загрузка_данных/Версионирование_данных/Версионирование_данных.md).
7.  После успешного выполнения загрузки данных JDBC-драйвер возвращает синхронный ответ во внешнюю 
    информационную систему.
    
Подробнее о компонентах системы см. в разделе [Компоненты системы](../../Компоненты_системы/Компоненты_системы.md), 
обо всех внешних связях системы см. в разделе [Связи с другими системами и компонентами](../Связи_с_другими_системами_и_компонентами.md).