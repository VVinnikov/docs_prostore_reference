---
layout: default
title: Создание логического представления
nav_order: 5
parent: Управление схемой данных
grand_parent: Работа с системой
has_children: false
---

# Создание логического представления

Логическое представление можно создать на основе данных одной или нескольких [логических таблиц](../../../Обзор_понятий_компонентов_и_связей/Основные_понятия/Логическая_таблица/Логическая_таблица.md).

Чтобы создать [логическое представление](../../../Обзор_понятий_компонентов_и_связей/Основные_понятия/Логическое_представление/Логическое_представление.md) 
в [логической БД](../../../Обзор_понятий_компонентов_и_связей/Основные_понятия/Логическая_база_данных/Логическая_база_данных.md), 
выполните запрос [CREATE VIEW](../../../Справочная_информация/Запросы_SQLplus/CREATE_VIEW/CREATE_VIEW.md) 
(см. пример [ниже](#пример)). При успешном выполнении запроса в 
[логической схеме данных](../../../Обзор_понятий_компонентов_и_связей/Основные_понятия/Логическая_схема_данных/Логическая_схема_данных.md) 
появляется новое логическое представление.

Чтобы проверить наличие логического представления, используйте любой из способов:
*   выполните [запрос метаданных](../Запрос_метаданных_логической_схемы/Запрос_метаданных_логической_схемы.md) логической схемы данных,
*   выполните запрос [SELECT](../../../Справочная_информация/Запросы_SQLplus/SELECT/SELECT.md) 
    к логическому представлению,
*   проверьте дерево объектов в вашем SQL-клиенте (см. рисунок ниже).

На рисунке ниже показан фрагмент дерева объектов SQL-клиента, которое содержит логическое представление 
`stores_by_sold_products`.

![](Логическое_представление.png){:height="50%" width="50%"}
{: .figure-center}
*Логическое представление в дереве объектов*
{: .figure-caption-center}

## Пример

```sql
-- выбор базы данных sales по умолчанию
USE sales

-- создание представления stores_by_sold_products
CREATE VIEW stores_by_sold_products AS
  SELECT store_id, SUM(product_units) AS product_quantity
  FROM sales.sales
  GROUP BY store_id
  ORDER BY product_amount DESC
  LIMIT 30

-- проверка наличия логического представления stores_by_sold_products
SELECT
  CASE
    WHEN count(*) > 0 THEN 'представление существует'
    ELSE 'представления не существует'
  END
FROM INFORMATION_SCHEMA.tables
WHERE table_schema = 'SALES' AND table_name = 'STORES_BY_SOLD_PRODUCTS'
```