---
layout: default
title: INSERT INTO download_external_table
nav_order: 24
parent: Запросы SQL+
grand_parent: Справочная информация
has_children: false
has_toc: false
---

# INSERT INTO download_external_table

Запрос позволяет выгрузить данные, выбранные [SELECT](../SELECT/SELECT.md)-подзапросом 
к [логической базе данных](../../../Обзор_понятий_компонентов_и_связей/Основные_понятия/Логическая_база_данных/Логическая_база_данных.md), 
во внешний приемник данных. Запрос обрабатывается в порядке, описанном в разделе 
[Порядок обработки запросов на выгрузку данных](../../../Обзор_понятий_компонентов_и_связей/Связи_с_другими_системами_и_компонентами/Порядок_обработки_запросов_на_выгрузку_данных/Порядок_обработки_запросов_на_выгрузку_данных.md).

В ответе возвращается:
*   пустой объект ResultSet при успешном выполнении запроса;
*   исключение при неуспешном выполнении запроса.

При успешном выполнении запроса данные выгружаются из СУБД [хранилища](../../../Обзор_понятий_компонентов_и_связей/Основные_понятия/Хранилище_данных/Хранилище_данных.md), 
выбранной для выгрузки в [конфигурации](../../../Эксплуатация/Конфигурация/Конфигурация.md) системы. 
Данные выгружаются в том формате и в тот приемник данных, которые были указаны 
[при создании внешней таблицы выгрузки](../CREATE_DOWNLOAD_EXTERNAL_TABLE/CREATE_DOWNLOAD_EXTERNAL_TABLE.md). Формат данных соответствует 
описанному в разделе [Формат выгрузки данных](../../Формат_выгрузки_данных/Формат_выгрузки_данных.md).

**Примечания:**

*   Перед выполнением запроса необходимо создать [внешнюю таблицу](../../../Обзор_понятий_компонентов_и_связей/Основные_понятия/Внешняя_таблица/Внешняя_таблица.md) 
    с указанием [пути](../../Формат_пути_к_внешнему_приемнику_данных/Формат_пути_к_внешнему_приемнику_данных.md) 
    к топику Kafka. Подробнее о порядке выполнения действий для выгрузки данных см. в разделе 
    [Выгрузка данных](../../../Работа_с_системой/Выгрузка_данных/Выгрузка_данных.md).
*   Имена и порядок следования столбцов должны совпадать в SELECT-подзапросе на выгрузку данных и 
    внешней таблице выгрузки.

## Синтаксис

```sql
INSERT INTO [db_name.]ext_table_name SELECT ...
```

## Параметры

*   `db_name` — имя логической базы данных, из которой выгружаются данные. Указывается опционально, 
    если выбрана логическая БД, [используемая по умолчанию](../../../Работа_с_системой/Другие_функции/Определение_логической_БД_по_умолчанию/Определение_логической_БД_по_умолчанию.md);
*   `ext_table_name` — имя внешней таблицы выгрузки.

## Ограничения

*   Секция [DATASOURCE_TYPE](../SELECT/SELECT.md#param_datasource_type) игнорируется в SELECT-подзапросе.
*   Выгружаемые данные должны быть доступны в СУБД, выбранной для выгрузки в конфигурации системы.

## Пример

```sql
INSERT INTO sales.sales_ext_download
SELECT * FROM sales.sales WHERE sales.product_units > 2
```